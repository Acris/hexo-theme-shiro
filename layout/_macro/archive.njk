{% import "_macro/ui.njk" as ui %}

{% macro render_list(posts) %}
    <div class="space-y-16 max-w-2xl mx-auto">
        {% set currentYear = "" %}
        {% for post in posts.toArray() %}
            {% set postYear = date(post.date, 'YYYY') %}
            {% if currentYear != postYear %}
                {% if currentYear != "" %}</div></div>{% endif %}
                {% set currentYear = postYear %}
                <div class="relative">
                    <h2 class="flex items-center gap-2 text-xl font-bold text-slate-800 mb-6 pb-2 border-b border-slate-100">
                        {{ ui.icon_nav_arrow() }}
                        {{ currentYear }}
                    </h2>
                    <div class="space-y-4">
            {% endif %}
            
            <article class="flex items-baseline gap-6 group">
                <time datetime="{{ date(post.date, 'YYYY-MM-DD') }}" class="flex-shrink-0 text-sm font-medium text-slate-400 w-12 text-right num">
                    {{ date(post.date, 'MM-DD') }}
                </time>
                <h3 class="text-base font-normal text-slate-700 hover:text-slate-900 transition-colors">
                    <a href="{{ url_for(post.path) }}" class="hover:underline decoration-slate-300 underline-offset-4">{{ post.title }}</a>
                </h3>
            </article>
        {% endfor %}
        {% if currentYear != "" %}</div></div>{% endif %}
    </div>
{% endmacro %}
